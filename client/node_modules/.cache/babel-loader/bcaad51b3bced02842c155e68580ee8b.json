{"ast":null,"code":"var _jsxFileName = \"/home/salko/Documents/Instagram-Clone/client/src/components/create-post/CreatePost.jsx\",\n    _s = $RefreshSig$();\n\nimport './createPost.css';\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreatePost(_ref) {\n  _s();\n\n  let {\n    setCreatePostWindow,\n    user\n  } = _ref;\n  const [file, setFile] = useState(null);\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const newPost = {\n      userId: user._id,\n      desc: \"Description\"\n    };\n\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      data.append('file', file);\n      data.append('name', fileName);\n      newPost.img = fileName;\n      console.log(newPost);\n\n      try {\n        await Axios.post('http://localhost:3001/api/upload', data);\n      } catch (err) {}\n\n      try {\n        await Axios.post('/posts', newPost);\n        window.location.reload();\n      } catch (err) {}\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-post\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      onClick: () => setCreatePostWindow(false),\n      className: \"close-create-post\",\n      \"aria-label\": \"Close\",\n      color: \"#ffffff\",\n      fill: \"#ffffff\",\n      height: \"24\",\n      role: \"img\",\n      viewBox: \"0 0 24 24\",\n      width: \"24\",\n      children: [/*#__PURE__*/_jsxDEV(\"polyline\", {\n        fill: \"none\",\n        points: \"20.643 3.357 12 12 3.353 20.647\",\n        stroke: \"currentColor\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        \"stroke-width\": \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 153\n      }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n        fill: \"none\",\n        stroke: \"currentColor\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-linejoin\": \"round\",\n        \"stroke-width\": \"3\",\n        x1: \"20.649\",\n        x2: \"3.354\",\n        y1: \"20.649\",\n        y2: \"3.354\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 313\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-post-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Create new post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 16\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          \"aria-label\": \"Icon to represent media such as images or videos\",\n          color: \"#262626\",\n          fill: \"#262626\",\n          height: \"77\",\n          role: \"img\",\n          viewBox: \"0 0 97.6 77.3\",\n          width: \"96\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z\",\n            fill: \"currentColor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 173\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z\",\n            fill: \"currentColor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 423\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z\",\n            fill: \"currentColor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 1145\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Drag photos and videos here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"upload-btn\",\n          htmlFor: \"new-post\",\n          children: \"Select from computer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            display: 'none'\n          },\n          type: \"file\",\n          id: \"new-post\",\n          accept: \".png,.jpeg,.jpg\",\n          onChange: e => setFile(e.target.files[0])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submitHandler,\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreatePost, \"Nkb8eHkBruGouXteoqeZ1R6wRVk=\");\n\n_c = CreatePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"sources":["/home/salko/Documents/Instagram-Clone/client/src/components/create-post/CreatePost.jsx"],"names":["useState","useEffect","Axios","CreatePost","setCreatePostWindow","user","file","setFile","submitHandler","e","preventDefault","newPost","userId","_id","desc","data","FormData","fileName","Date","now","name","append","img","console","log","post","err","window","location","reload","display","target","files"],"mappings":"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","sourcesContent":["import './createPost.css'\nimport {useState, useEffect} from 'react'\nimport Axios from 'axios';\n\nexport default function CreatePost({setCreatePostWindow, user}) {\n\n    const [file, setFile] = useState(null);\n\n    const submitHandler = async (e) => {\n        e.preventDefault();\n        const newPost = {\n            userId: user._id,\n            desc: \"Description\"\n        }\n        if(file){\n            const data = new FormData();\n            const fileName = Date.now() + file.name;\n            data.append('file', file);\n            data.append('name', fileName);\n            newPost.img = fileName;\n            console.log(newPost);\n\n            try{\n                await Axios.post('http://localhost:3001/api/upload', data)\n\n            }catch(err){}\n\n            try{\n                await Axios.post('/posts', newPost)\n                window.location.reload();\n            }catch(err){}\n\n        }\n    }\n\n\n    return (\n        <div className='create-post'>\n            <svg onClick= {()=>\n                    setCreatePostWindow(false)\n                } className='close-create-post' aria-label=\"Close\" color=\"#ffffff\" fill=\"#ffffff\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><polyline fill=\"none\" points=\"20.643 3.357 12 12 3.353 20.647\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\"></polyline><line fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" x1=\"20.649\" x2=\"3.354\" y1=\"20.649\" y2=\"3.354\"></line></svg>\n            <div className=\"create-post-wrapper\">\n               <h3>Create new post</h3>\n               <div className=\"input-form\">\n               <svg aria-label=\"Icon to represent media such as images or videos\"  color=\"#262626\" fill=\"#262626\" height=\"77\" role=\"img\" viewBox=\"0 0 97.6 77.3\" width=\"96\"><path d=\"M16.3 24h.3c2.8-.2 4.9-2.6 4.8-5.4-.2-2.8-2.6-4.9-5.4-4.8s-4.9 2.6-4.8 5.4c.1 2.7 2.4 4.8 5.1 4.8zm-2.4-7.2c.5-.6 1.3-1 2.1-1h.2c1.7 0 3.1 1.4 3.1 3.1 0 1.7-1.4 3.1-3.1 3.1-1.7 0-3.1-1.4-3.1-3.1 0-.8.3-1.5.8-2.1z\" fill=\"currentColor\"></path><path d=\"M84.7 18.4L58 16.9l-.2-3c-.3-5.7-5.2-10.1-11-9.8L12.9 6c-5.7.3-10.1 5.3-9.8 11L5 51v.8c.7 5.2 5.1 9.1 10.3 9.1h.6l21.7-1.2v.6c-.3 5.7 4 10.7 9.8 11l34 2h.6c5.5 0 10.1-4.3 10.4-9.8l2-34c.4-5.8-4-10.7-9.7-11.1zM7.2 10.8C8.7 9.1 10.8 8.1 13 8l34-1.9c4.6-.3 8.6 3.3 8.9 7.9l.2 2.8-5.3-.3c-5.7-.3-10.7 4-11 9.8l-.6 9.5-9.5 10.7c-.2.3-.6.4-1 .5-.4 0-.7-.1-1-.4l-7.8-7c-1.4-1.3-3.5-1.1-4.8.3L7 49 5.2 17c-.2-2.3.6-4.5 2-6.2zm8.7 48c-4.3.2-8.1-2.8-8.8-7.1l9.4-10.5c.2-.3.6-.4 1-.5.4 0 .7.1 1 .4l7.8 7c.7.6 1.6.9 2.5.9.9 0 1.7-.5 2.3-1.1l7.8-8.8-1.1 18.6-21.9 1.1zm76.5-29.5l-2 34c-.3 4.6-4.3 8.2-8.9 7.9l-34-2c-4.6-.3-8.2-4.3-7.9-8.9l2-34c.3-4.4 3.9-7.9 8.4-7.9h.5l34 2c4.7.3 8.2 4.3 7.9 8.9z\" fill=\"currentColor\"></path><path d=\"M78.2 41.6L61.3 30.5c-2.1-1.4-4.9-.8-6.2 1.3-.4.7-.7 1.4-.7 2.2l-1.2 20.1c-.1 2.5 1.7 4.6 4.2 4.8h.3c.7 0 1.4-.2 2-.5l18-9c2.2-1.1 3.1-3.8 2-6-.4-.7-.9-1.3-1.5-1.8zm-1.4 6l-18 9c-.4.2-.8.3-1.3.3-.4 0-.9-.2-1.2-.4-.7-.5-1.2-1.3-1.1-2.2l1.2-20.1c.1-.9.6-1.7 1.4-2.1.8-.4 1.7-.3 2.5.1L77 43.3c1.2.8 1.5 2.3.7 3.4-.2.4-.5.7-.9.9z\" fill=\"currentColor\"></path></svg>\n               <h4>Drag photos and videos here</h4>\n               \n               \n               <label className='upload-btn' htmlFor='new-post'>Select from computer</label>\n                  <input\n                style={{ display:'none' }}\n                type=\"file\"\n                id=\"new-post\"\n                accept=\".png,.jpeg,.jpg\"\n                onChange={(e) => setFile(e.target.files[0])}\n              />\n\n              <button\n              onClick={submitHandler}\n              >\n                  \n                  Upload</button>\n\n\n               </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}