{"ast":null,"code":"var _jsxFileName = \"/home/salko/Documents/Instagram-Clone/client/src/components/messenger/Chat/Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport './chat.css';\nimport { useEffect, useState } from \"react\";\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chat(_ref) {\n  _s();\n\n  let {\n    user,\n    activeRoom\n  } = _ref;\n  Axios.defaults.withCredentials = true;\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState('');\n\n  const sendMessageHandler = () => {\n    if (messages.length > 0) messages([...messages, {\n      text: message,\n      sender: user._id\n    }]);else setMessages([{\n      text: message,\n      sender: user._id\n    }]);\n    Axios.post(\"http://localhost:3001/api/messages\", {\n      sender: user._id,\n      text: message,\n      conversationId: activeRoom._id\n    }).then(response => {});\n    setMessage('');\n  };\n\n  useEffect(() => {\n    if (activeRoom) {\n      Axios.get(`http://localhost:3001/api/messages/${activeRoom._id}`).then(response => {\n        setMessages(response.data.sort((p1, p2) => {\n          return new Date(p1.createdAt) - new Date(p2.createdAt);\n        }));\n      });\n    } else console.log(\"there are no messages in: \" + activeRoom);\n  }, [activeRoom]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-top\",\n      children: [activeRoom && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-room\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-room-icon\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.REACT_APP_PULIC_FOLDER + activeRoom.conversationImage,\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-room-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-room-name\",\n            children: activeRoom.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-room-status\",\n            children: \"Active now\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        \"aria-label\": \"View Thread Details\",\n        class: \"_8-yf5 \",\n        color: \"#262626\",\n        fill: \"#262626\",\n        height: \"24\",\n        role: \"img\",\n        viewBox: \"0 0 24 24\",\n        width: \"24\",\n        children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"12.001\",\n          cy: \"12.005\",\n          fill: \"none\",\n          r: \"10.5\",\n          stroke: \"currentColor\",\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          \"stroke-width\": \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 156\n        }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n          cx: \"11.819\",\n          cy: \"7.709\",\n          r: \"1.25\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 304\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          fill: \"none\",\n          stroke: \"currentColor\",\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          \"stroke-width\": \"2\",\n          x1: \"10.569\",\n          x2: \"13.432\",\n          y1: \"16.777\",\n          y2: \"16.777\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 353\n        }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n          fill: \"none\",\n          points: \"10.569 11.05 12 11.05 12 16.777\",\n          stroke: \"currentColor\",\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          \"stroke-width\": \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 512\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-center\",\n      children: messages.map(m => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: m.sender == user._id ? \"message users-message\" : \"message\",\n        children: m.text\n      }, m._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-bottom\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          \"aria-label\": \"Emoji\",\n          class: \"_8-yf5 \",\n          color: \"#262626\",\n          fill: \"#262626\",\n          height: \"24\",\n          role: \"img\",\n          viewBox: \"0 0 24 24\",\n          width: \"24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M15.83 10.997a1.167 1.167 0 101.167 1.167 1.167 1.167 0 00-1.167-1.167zm-6.5 1.167a1.167 1.167 0 10-1.166 1.167 1.167 1.167 0 001.166-1.167zm5.163 3.24a3.406 3.406 0 01-4.982.007 1 1 0 10-1.557 1.256 5.397 5.397 0 008.09 0 1 1 0 00-1.55-1.263zM12 .503a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012 .503zm0 21a9.5 9.5 0 119.5-9.5 9.51 9.51 0 01-9.5 9.5z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 142\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: message,\n          onChange: e => {\n            setMessage(e.target.value);\n          },\n          placeholder: \"Message...\",\n          className: \"msg-input\",\n          type: \"text\",\n          name: \"\",\n          id: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          \"aria-label\": \"Add Photo or Video\",\n          class: \"_8-yf5 \",\n          color: \"#262626\",\n          fill: \"#262626\",\n          height: \"24\",\n          role: \"img\",\n          viewBox: \"0 0 24 24\",\n          width: \"24\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M6.549 5.013A1.557 1.557 0 108.106 6.57a1.557 1.557 0 00-1.557-1.557z\",\n            \"fill-rule\": \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 159\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M2 18.605l3.901-3.9a.908.908 0 011.284 0l2.807 2.806a.908.908 0 001.283 0l5.534-5.534a.908.908 0 011.283 0l3.905 3.905\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            \"stroke-linejoin\": \"round\",\n            \"stroke-width\": \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 266\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M18.44 2.004A3.56 3.56 0 0122 5.564h0v12.873a3.56 3.56 0 01-3.56 3.56H5.568a3.56 3.56 0 01-3.56-3.56V5.563a3.56 3.56 0 013.56-3.56z\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            \"stroke-linecap\": \"round\",\n            \"stroke-linejoin\": \"round\",\n            \"stroke-width\": \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 477\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          \"aria-label\": \"Like\",\n          class: \"_8-yf5 \",\n          color: \"#262626\",\n          fill: \"#262626\",\n          height: \"24\",\n          role: \"img\",\n          viewBox: \"0 0 24 24\",\n          width: \"24\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 145\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Chat, \"9iyGj6dRHK6V1mxAAjlNUec9m4A=\");\n\n_c = Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["/home/salko/Documents/Instagram-Clone/client/src/components/messenger/Chat/Chat.jsx"],"names":["useEffect","useState","Axios","Chat","user","activeRoom","defaults","withCredentials","messages","setMessages","message","setMessage","sendMessageHandler","length","text","sender","_id","post","conversationId","then","response","get","data","sort","p1","p2","Date","createdAt","console","log","process","env","REACT_APP_PULIC_FOLDER","conversationImage","name","map","m","e","target","value"],"mappings":"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","sourcesContent":["import './chat.css'\nimport {useEffect, useState} from \"react\"\nimport Axios from 'axios';\n\nexport default function Chat({user, activeRoom}) {\n\n    Axios.defaults.withCredentials = true;\n\n    const [messages, setMessages] = useState([]);\n    const [message, setMessage] = useState('');\n\n    \n    const sendMessageHandler = () => {\n        if(messages.length > 0) messages([...messages, {text: message, sender: user._id}])\n        else setMessages([{text: message, sender: user._id}]);\n \n         Axios.post(\"http://localhost:3001/api/messages\", {\n            sender: user._id,\n            text: message,\n            conversationId: activeRoom._id\n         }).then((response) => {\n \n              \n         })\n         setMessage('')\n     }\n\n    useEffect(() => {\n\n           if(activeRoom) {Axios.get(`http://localhost:3001/api/messages/${activeRoom._id}`)\n            .then((response) => \n            \n            {setMessages(    \n                response.data.sort((p1, p2) => {\n                    return new Date(p1.createdAt) - new Date(p2.createdAt);\n                  })\n\n                );})  }  else console.log(\"there are no messages in: \" + activeRoom)    \n       \n      }, [activeRoom])\n\n\n\n\n\n\n    return (\n        <div className='chat'>\n            <div className=\"chat-top\">\n\n\n           {activeRoom && <div className=\"chat-room\">\n                    <div className=\"chat-room-icon\">\n                        <img src={process.env.REACT_APP_PULIC_FOLDER + activeRoom.conversationImage} alt=\"\" />\n                    </div>\n                    <div className=\"chat-room-info\">\n                        <div className=\"chat-room-name\">{activeRoom.name}</div>\n                        <div className=\"chat-room-status\">Active now</div>\n                    </div>\n                </div>}\n\n                <svg aria-label=\"View Thread Details\" class=\"_8-yf5 \" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><circle cx=\"12.001\" cy=\"12.005\" fill=\"none\" r=\"10.5\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"></circle><circle cx=\"11.819\" cy=\"7.709\" r=\"1.25\"></circle><line fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" x1=\"10.569\" x2=\"13.432\" y1=\"16.777\" y2=\"16.777\"></line><polyline fill=\"none\" points=\"10.569 11.05 12 11.05 12 16.777\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"></polyline></svg>\n\n            </div>\n            <div className=\"chat-center\">\n                    {\n                         messages.map((m) => (\n                            <div key={m._id}\n                            \n                           className= {m.sender == user._id ? \"message users-message\" : \"message\"}>\n                                {m.text}\n                        </div>\n                        ))\n\n                    }\n\n            </div>{/**CHAT CENTER */}\n\n            <div className=\"chat-bottom\">\n                <div className=\"message-input\">\n                <svg aria-label=\"Emoji\" class=\"_8-yf5 \" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M15.83 10.997a1.167 1.167 0 101.167 1.167 1.167 1.167 0 00-1.167-1.167zm-6.5 1.167a1.167 1.167 0 10-1.166 1.167 1.167 1.167 0 001.166-1.167zm5.163 3.24a3.406 3.406 0 01-4.982.007 1 1 0 10-1.557 1.256 5.397 5.397 0 008.09 0 1 1 0 00-1.55-1.263zM12 .503a11.5 11.5 0 1011.5 11.5A11.513 11.513 0 0012 .503zm0 21a9.5 9.5 0 119.5-9.5 9.51 9.51 0 01-9.5 9.5z\"></path></svg>\n                    <input value={message} \n                    onChange={(e)=>{setMessage(e.target.value)}}\n                    placeholder='Message...' className='msg-input' type=\"text\" name=\"\" id=\"\" />\n                    <svg aria-label=\"Add Photo or Video\" class=\"_8-yf5 \" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M6.549 5.013A1.557 1.557 0 108.106 6.57a1.557 1.557 0 00-1.557-1.557z\" fill-rule=\"evenodd\"></path><path d=\"M2 18.605l3.901-3.9a.908.908 0 011.284 0l2.807 2.806a.908.908 0 001.283 0l5.534-5.534a.908.908 0 011.283 0l3.905 3.905\" fill=\"none\" stroke=\"currentColor\" stroke-linejoin=\"round\" stroke-width=\"2\"></path><path d=\"M18.44 2.004A3.56 3.56 0 0122 5.564h0v12.873a3.56 3.56 0 01-3.56 3.56H5.568a3.56 3.56 0 01-3.56-3.56V5.563a3.56 3.56 0 013.56-3.56z\" fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"></path></svg>\n                    <svg aria-label=\"Like\" class=\"_8-yf5 \" color=\"#262626\" fill=\"#262626\" height=\"24\" role=\"img\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M16.792 3.904A4.989 4.989 0 0121.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 014.708-5.218 4.21 4.21 0 013.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 013.679-1.938m0-2a6.04 6.04 0 00-4.797 2.127 6.052 6.052 0 00-4.787-2.127A6.985 6.985 0 00.5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 003.518 3.018 2 2 0 002.174 0 45.263 45.263 0 003.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 00-6.708-7.218z\"></path></svg>\n               </div>\n            </div>\n\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}